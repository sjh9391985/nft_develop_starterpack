## 1.1 분산화 시스템

<br>

- 중앙화 시스템이란?

  - 온라인 거래에 사용되는 시스템
  - 국가와 정부의 권력에 의해 통제되는 사용되는 기존 화폐 시스템

<br>

- 중앙화 시스템의 특징

  - 모든 정보가 한 곳에 집중됨.
  - 집중된 곳에서 의사결정권한이 있기 때문에 시스템을 통제하기 쉬움
  - 소수에 의해 관리되는 만큼 보안문제에 취약함

<br>

- 탈중앙화 시스템 등장

  - 중앙화된 결정권을 중앙기관에 집중되는 대신, 피어에 연결
  - 피어: 동등한 권리와 역할을 가지는 노드를 의미
  - 신뢰 기반 시스템: 모든 노드가 피어로 연결된 분산화 시스템을 P2P 방식으로 같은 데이터를 공유하는 시스템

<br>

## 1.2 블록체인

<br>

- 블록체인이란?

  - 분산화 시스템을 관리하는 분산 컴퓨팅 기술
  - 블록: '블록'이라고 하는 소규모 데이터들을 P2P 방식으로 체인처럼 연결하여, 시스템에 참여하는 누구나 데이터를 추가할 수 있도록 하는 것.

<br>

- 블록체인에서 3가지 노드관리 규칙

  - 상태 변경 정보가 담긴 대기 형태의 '트랜잭션' 단위로 데이터 생성
  - 트랜잭션은 일정 시간 동안 쌓여 블록을 이룸
  - 블록체인 내의 모든 노드는 같은 블록을 공유받고, 그 블록이 포함한 트랜잭션을 가지고 상태를 업데이트함.

<br>

## 1.3 이더리움

<br>

- 이더리움이란?

  - 블록체인 기술을 활용하여 스마트 컨트랙트 기능을 구현할 수 있도록 하는 분산화 서비스이자, 이더 또는 ETH로도 표기하는 자체 통화명
  - 스마트 컨트랙트: 블록체인상에 조건이 만족되면 자동으로 내용이 실행되도록 원하는정보를 CRUD 할 수 있게 하는 애플리케이션 프로그램
  - DApp: 스마트 컨트랙트를 웹 또는 앱과 연동한 시스템(여러 형태의 데이터를 블록체인 기반으로 관리할 수 있음)
  - 디앱의 플랫폼을 정의하는 일련의 프로토콜이자 구동하는 운영 기술이라고 함

<br>

- EIP

  - Ethereum Improvement Proposal의 약자로 이더리움 개선 제인이라는 뜻을 가짐
  - 누구나 제안 가능
  - 이더리움의 핵심 프로토콜 사양, 클라이언트 API 및 컨트랙트 구조를 포함한 이더리움 플랫폼의 표준을 제안함.

<br>

- EIP 주제

  - Core, Networking, Interface, ERC, Meta, Informational로 세분화됨
  - 이중 ERC: Ethereum Request for Comment의 약자, 토큰 표준, URI 체계, 라이브러리와 패키지 형식 및 지갑 형식과 같은 스마트 컨트랙트 표준에 대한 제안.
  - 제안된 표준인 ERC-20, ERC-165, ERC-721, ERC-1155 등이 있으며 표준이란것은 해당 스마트 컨트랙트를 어떠한 목적으로 사용할지의 약속을 의미
  - 구현의 기능이 아닌 목적에 맞는 스마트 컨트랙트 사용을 결정
  - 표준에 따라 포맷이 다름

<br>

- 이더리움 네트워크

  - 이더리움에는 독립된 여러 네트워크가 있고, 그중 거래소와 연동되어 있는 네트워크를 메인 네트워크라고 함
  - 이더리움 네트워크 노드생성시 게스, 가나슈 같은 SW를 사용
  - 게스: Go 로 만들어진 SW로 네트워크에서 노드를 운용할 수 있게함
  - 가나슈: CLI 테스트용 가상 네트워크에서 노드를 구축할 수 있도록 함. 가나슈 CLI 사용시 스마트 컨트랙트를 테스트할 때 게스로 매번 노드를 구축해야 하는 번거러움을 줄일 수 있음

<br>

## 1.4 스마트 컨트랙트

<br>

- 스마트 컨트랙트

  - 이더리움 같은 블록체인 기반 플랫폼에서 조건이 만족되면 자동으로 내용이 실행되도록 하는 시스템
  - 특정 조간에 따라 약속이 이행됨

<br>

- 스마트 컨트랙트 구조

  - Object 구조
  - 이때 상태에 접근할 수 있도록 하는 고유한 값을 주소라고함

    - `{ 'address1' : 주소1의 상태} { 'address2' : 주소2의 상태}`
    - value: 이더 보유량
    - data: 스마트 컨트랙트에서 관리하는 데이터
    - code: 스마트 컨트랙트의 코드
    - nonce: 해당 주소에서 몇 개의 트랜잭션을 생성했는지 갯수

    - 트랜잭션 2가지 요청 보내기
      - value 값 변경: 이더 전송
      - data 값 변경: 스마트 컨트랙트의 상태변경

<br>

- 개인키, 공개키

  - 이더리움의 각 주소 생성과정

    - 64자리 무작위 숫자로 구성된 개인키 생성
    - 암호화 알고리즘이 개인키로부터 공개키를 생성
    - 공개키를 해싱하여 뒤에서 40자리를 주소로 지정<br><br>

  - 개인키: 단순히 무작위로 추출된 숫자

    - 통장 비밀번호 같은 기능으로, 이더를 지출하는 트랜잭션을 생성할 때 디지털 서명으로 사용됨
    - 이더의 소유권을 입증하는 수단이므로 반드시 주소의 소유자만 개인키를 알아야함<br><br>

  - 공개키: 이더를 수신할 수 있는 주소로 사용됨
    - 계정을 식별하는 역할을 함
    - 개인키를 활용하여 생성됨

<br>

- EOA, CA란?

  - EOA (External Owned Accounts)

    - 일반적으로 사용자 계정으로 개인키 정보가 포함되어 있음
    - 스스로 트랜잭션을 발생시킬수 있는 권한을 가지며 이더 보유량을 관리함
    - 지갑주소라고 부름 <br><br>

  - CA (Contract Accounts)

    - 이더 보유량 이외의 데이터를 별도로 저장할 수 있음
    - 스마트 컨트랙트에 부여되는 주소가 CA
    - 개인키로 서명해야 트랜잭션을 생성할 수 있기에 개인키가 있는 EOA로만 객체의 데이터를 변경할 수 있음
    - 컨트랙트 코드로 정보가 통제되며, 직접 트랜잭션을 생성할 수 없음
    - 외부 EOA에서 전달한 메시지에 대한 응답으로 자신의 코드를 수행함

 <br>

- 개인키 관리 기법

  - 개인키는 16진수 형태로 이루어져있음
  - 개인키가 자산을 관리할 수 있는 권한을 주므로 특별한 관리 기법이 필요함
  - 개인키 관리 기법은 니모닉과 키스토어가 있음
  - 니모닉: 무작위한 12개의 단어로 개인키를 관리함, 항상 같은 주소를 조회하며 계층적인 구조로 이루어져 있음
  - 키스토어: JSON 형태로 개인키를 관리함
